<div *ngIf="!loading && !loading2" class="container px-4 sm:px-0 mx-auto mb-8">
    <h1 class="font-semibold">Nakup kart</h1>
    <mat-card>
        <mat-card-content>
            <p>
                Dobrodošli v spletni trgovini plezalnega centra cliMB. Pred nakupom karte za plezalni center se morate registrirati, potrditi politiko zasebnosti in splošne pogoje.
                Po enkratni registraciji se v spletno trgovino prijavite s svojim uporabniškim imenom (e-mailom) in geslom.
            </p>
            <p>Za nakup vstopnic morate biti prijavljeni in naložiti svojo sliko, da vas lahko zaposleni identificirajo pri prihodu (check-in).</p>
        </mat-card-content>
    </mat-card>

    <div class="container mt-6" *ngIf="!imaSliko">
        <mat-card>
            <mat-card-header>
                <span class="font-semibold text-xl">Naložite svojo sliko</span>
            </mat-card-header>
            <mat-card-content class="mt-4">
                <div class="flex flex-col gap-2">
                    <input type="file" (change)="onFileSelected($event)" accept="image/*" />
                    <button mat-raised-button
                            color="primary"
                            class="w-fit"
                            (click)="uploadImage()"
                            [disabled]="!selectedFile">Naloži sliko</button>
                </div>
            </mat-card-content>
        </mat-card>
    </div>

    <div class="mt-8">

        <div class="flex flex-col w-full mt-6 gap-4">
            <div class="flex justify-between items-center py-6 px-4 text-white border rounded-xl bg-gray-700 w-full gap-2">
                <div class="flex gap-4">
                    <img src="assets/karta_ikona.png" alt="karta" height="30" width="30" />
                    <div class="flex flex-col">
                        <span class="text-xl">Odrasli - 1x Celodnevna Karta</span>
                        <span class="text-lg">10€</span>
                    </div>
                </div>
                <button mat-raised-button
                        color="accent"
                        class="!py-1 sm:py-6 !leading-tight sm:leading-normal"
                        [disabled]="!imaSliko"
                        (click)="openPayment(1000, 'Nakup Enodnevne Karte')">Nakup karte</button>
            </div>

            <div class="flex justify-between items-center py-6 px-4 text-white border rounded-xl bg-gray-700 w-full gap-2">
                <div class="flex gap-4">
                    <img src="assets/karta_ikona.png" alt="karta" height="30" width="30" />
                    <div class="flex flex-col">
                        <span class="text-xl">Odrasli - 10 + 1 Celodnevna Karta</span>
                        <span class="text-lg">100€</span>
                    </div>
                </div>
                <button mat-raised-button
                        color="accent"
                        class="!py-1 sm:py-6 !leading-tight sm:leading-normal"
                        [disabled]="!imaSliko"
                        (click)="openPayment(10000, 'Nakup 10 + 1 Kart')" >Nakup karte</button>
            </div>

            <div class="flex justify-between items-center py-6 px-4 text-white border rounded-xl bg-gray-700 w-full gap-2">
                <div class="flex gap-4">
                    <img src="assets/karta_ikona.png" alt="karta" height="30" width="30" />
                    <div class="flex flex-col">
                        <span class="text-xl">Odrasli - Mesečna Karta</span>
                        <span class="text-lg">70€</span>
                    </div>
                </div>
                <button mat-raised-button
                        color="accent"
                        class="!py-1 sm:py-6 !leading-tight sm:leading-normal"
                        [disabled]="!imaSliko"
                        (click)="openPayment(7000, 'Nakup Mesečne Karte')" >Nakup karte</button>
            </div>

            <div class="flex justify-between items-center py-6 px-4 text-white border rounded-xl bg-gray-700 w-full gap-2">
                <div class="flex gap-4">
                    <img src="assets/karta_ikona.png" alt="karta" height="30" width="30" />
                    <div class="flex flex-col">
                        <span class="text-xl">Odrasli - Letna Karta</span>
                        <span class="text-lg">400€</span>
                    </div>
                </div>
                <button mat-raised-button
                        color="accent"
                        class="!py-1 sm:py-6 !leading-tight sm:leading-normal"
                        [disabled]="!imaSliko"
                        (click)="openPayment(40000, 'Nakup Letne Karte')" >Nakup karte</button>
            </div>
        </div>

        <h2 *ngIf="!isSmallScreen" class="font-semibold text-3xl mt-6">Cenik</h2>

        <table *ngIf="!isSmallScreen" mat-table [dataSource]="tickets" class="mat-elevation-z2 mt-4">
            <ng-container matColumnDef="vstopnica">
                <th mat-header-cell *matHeaderCellDef> VSTOPNICA </th>
                <td mat-cell *matCellDef="let element"> {{element.vstopnica}} </td>
            </ng-container>

            <ng-container matColumnDef="celodnevna">
                <th mat-header-cell *matHeaderCellDef> CELODNEVNA </th>
                <td mat-cell *matCellDef="let element"> {{element.celodnevna}} € </td>
            </ng-container>

            <ng-container matColumnDef="deset_plus_en">
                <th mat-header-cell *matHeaderCellDef> 10 + 1 </th>
                <td mat-cell *matCellDef="let element"> {{element.deset_plus_en}} € </td>
            </ng-container>

            <ng-container matColumnDef="mesecna">
                <th mat-header-cell *matHeaderCellDef> MESEČNA </th>
                <td mat-cell *matCellDef="let element"> {{element.mesecna}} € </td>
            </ng-container>

            <ng-container matColumnDef="letna">
                <th mat-header-cell *matHeaderCellDef> LETNA </th>
                <td mat-cell *matCellDef="let element"> {{element.letna}} € </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>

    </div>
</div>